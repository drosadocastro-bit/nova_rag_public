{
  "timestamp": "20251231_071156",
  "config": {
    "nic_api": "http://127.0.0.1:5000/api",
    "eval_model": "fireball-meta-llama-3.2-8b-instruct-agent-003-128k-code-dpo",
    "total_samples": 5
  },
  "results": [
    {
      "question": "Engine cranks but won't start. What should I check?",
      "answer": "WARNINGS: Fuel system under pressure. Wear eye protection. Work in ventilated area away from ignition sources. (vehicle_manual.txt p3) | STEPS: Verify fuel level (Check fuel gauge reading) (vehicle_manual.txt p2); Test fuel pressure (Connect pressure gauge to fuel rail test port, Key to ON position (do not crank), Observe pressure: should read 40-50 PSI) (vehicle_manual.txt p2); Check for spark (Remove spark plug from cylinder 1, Reconnect spark plug wire, Ground plug body to engine block using insulated tool) (vehicle_manual.txt p2) | VERIFY: Verify correct fuel gauge reading (source.pdf p42); Verify correct fuel pressure reading (source.pdf p42); Verify strong blue spark across gap (source.pdf p42)",
      "contexts": [
        "[vehicle_manual.txt p.2] ing)\nIgnition switch assembly\nBattery cables (4 AWG minimum)\n[Figure 1-1: Starting System Schematic] --- PAGE 2 ---\nPara 1-2: Engine Cranks But Won't ",
        "[vehicle_manual.txt p.11] nt Specification\nBrake Fluid Type DOT 3\nFluid Capacity 0.5 quarts\nPad Minimum Thickness 3mm (0.118\") --- PAGE 11 ---\nComponent Specification\nRotor Min",
        "[vehicle_manual.txt p.3] plug from cylinder 1\nReconnect spark plug wire\nGround plug body to engine block using insulated tool --- PAGE 3 ---\nHave assistant crank engine\nObserv",
        "[vehicle_manual.txt p.1] --- PAGE 1 ---\nTM 9-2350 Vehicle Maintenance Manual\nDemonstration Dataset for NIC RAG System\nNOTICE: This is synthetic technical documentation created",
        "[vehicle_manual.txt p.25] housing cover [Citation: Para 7-4.1, Figure 7-3]\nStep 2: Inspect old filter\nHold up to light source --- PAGE 25 ---\nShould see light through filter me",
        "[vehicle_manual.txt p.18] PSI\nFuel Pressure (WOT) 35 PSI minimum\nPump Flow Rate 30 GPH minimum\nFilter Replacement 15,000 miles --- PAGE 18 ---\nComponent Specification\nInjector "
      ],
      "ground_truth": "When engine cranks but won't start, check these in order of likelihood: (1) Fuel system - verify fuel level and pump operation, test fuel pressure at 40-50 PSI [Citation: Para 1-2.1, Table 1-1]. (2) Ignition system - test for spark at plugs [Citation: Para 1-2.3]. (3) Air intake - inspect for severe restrictions [Citation: Para 1-2]. WARNING: Fuel system under pressure, wear eye protection [Safety Notice 1-A].",
      "id": "PC001",
      "category": "positive_case"
    },
    {
      "question": "What's the correct torque specification for lug nuts?",
      "answer": "[REFUSAL] This question is outside the knowledge base (vehicle maintenance topics). Please ask about maintenance procedures, diagnostics, or specifications.",
      "contexts": [
        "[vehicle_manual.txt p.24] o not remove yet [Citation: Para 7-3.1]\nStep 2: Lift vehicle\nUse jack at designated lift points only --- PAGE 24 ---\nSupport with jack stands (never w",
        "[vehicle_manual.txt p.9] Fluid should be between MIN and MAX marks\nLow fluid indicates leak in system [Citation: Para 3-2.1] --- PAGE 9 ---\n\u26a0  WARNING: Low brake fluid is emer",
        "[vehicle_manual.txt p.4] Para 1-3.1, Table 1-2]\nStep 2: Perform battery load test\nApply load equivalent to 50% of CCA rating --- PAGE 4 ---\nVoltage should remain above 9.6V fo",
        "[vehicle_manual.txt p.6] ed bearing\nBroken drive belt\n4. Radiator Blockage (10% probability)\nExternal debris blocking airflow --- PAGE 6 ---\nInternal corrosion/scale buildup\nD",
        "[vehicle_manual.txt p.15] , 15K mile replacement)\nFuel pressure regulator (return type)\nFuel injectors (multi-port sequential) --- PAGE 15 ---\nOperating Pressure: 40-50 PSI at ",
        "[vehicle_manual.txt p.27] icle to fall resulting in crushing\ninjury or death. Always use jack stands rated for vehicle weight. --- PAGE 27 ---\nSafety Notice 7-B: Battery Discon"
      ],
      "ground_truth": "Lug nuts should be torqued to 85-95 ft-lbs in a star pattern [Citation: Table 7-1, Para 7-3.3].",
      "id": "PC002",
      "category": "positive_case"
    },
    {
      "question": "My temperature gauge is reading high. What could be wrong?",
      "answer": "[REFUSAL] This question is outside the knowledge base (vehicle maintenance topics). Please ask about maintenance procedures, diagnostics, or specifications.",
      "contexts": [
        "[vehicle_manual.txt p.5] 9.6V minimum\nCCA Rating 600 minimum\nLoad Test Duration 15 seconds\nReplacement Interval 48-60 months --- PAGE 5 ---\nSECTION 2: COOLING SYSTEM\nPara 2-1:",
        "[vehicle_manual.txt p.2] ing)\nIgnition switch assembly\nBattery cables (4 AWG minimum)\n[Figure 1-1: Starting System Schematic] --- PAGE 2 ---\nPara 1-2: Engine Cranks But Won't ",
        "[vehicle_manual.txt p.19] eration\nMonitor O2 sensor voltages with scan tool\nUpstream sensor: should fluctuate 0.1-0.9V rapidly --- PAGE 19 ---\nDownstream sensor: should be stea",
        "[vehicle_manual.txt p.12] rive Belt Failure (40% probability)\nBelt broken or slipped off\nSeverely worn belt\nLoose belt tension --- PAGE 12 ---\n2. Alternator Failure (35% probab",
        "[vehicle_manual.txt p.15] , 15K mile replacement)\nFuel pressure regulator (return type)\nFuel injectors (multi-port sequential) --- PAGE 15 ---\nOperating Pressure: 40-50 PSI at ",
        "[vehicle_manual.txt p.26] ts body. [Safety Notice 7-B]\nStep 3: Test battery\nMeasure resting voltage: should be 12.4V or higher --- PAGE 26 ---\nPerform load test per Para 1-3.2\n"
      ],
      "ground_truth": "Engine overheating (gauge above 220\u00b0F) has several probable causes: (1) Low coolant level - 50% probability, check reservoir when cold [Citation: Para 2-2.1]. (2) Thermostat failure - 25% probability, test if upper hose gets hot at 195\u00b0F [Citation: Para 2-2.2]. (3) Water pump failure - 15% probability, inspect for leaks and bearing noise [Citation: Para 2-2.3]. (4) Radiator blockage - 10% probability. WARNING: Never open cooling system when hot, wait 30 minutes minimum [Safety Notice 2-A].",
      "id": "PC003",
      "category": "positive_case"
    },
    {
      "question": "How do I test if my alternator is charging?",
      "answer": "{\n  \"output\": \"chat\",\n  \"steps\": [\n    {\n      \"step\": \"Step 1: Check drive belt\",\n      \"description\": \"Visually inspect belt for cracks or damage and ensure it is tight (1/2\\\" deflection max).\"\n    },\n    {\n      \"step\": \"Step 2: Test charging voltage\",\n      \"description\": \"Connect voltmeter to battery terminals, start engine, and increase RPM to 2000. Voltage should read between 13.8-14.4V.\"\n    }\n  ],\n  \"cautions\": [\n    \"If voltage is below 13.8V, the alternator may not be charging. If above 14.8V, the regulator may have failed (disconnect battery immediately).\"\n  ]\n}",
      "contexts": [
        "[vehicle_manual.txt p.14] 4-3]\nStep 2: Locate source of draw\nRemove fuses one at a time\nMonitor ammeter when each fuse removed --- PAGE 14 ---\nWhen amperage drops to normal, ci",
        "[vehicle_manual.txt p.12] rive Belt Failure (40% probability)\nBelt broken or slipped off\nSeverely worn belt\nLoose belt tension --- PAGE 12 ---\n2. Alternator Failure (35% probab",
        "[vehicle_manual.txt p.25] housing cover [Citation: Para 7-4.1, Figure 7-3]\nStep 2: Inspect old filter\nHold up to light source --- PAGE 25 ---\nShould see light through filter me",
        "[vehicle_manual.txt p.26] ts body. [Safety Notice 7-B]\nStep 3: Test battery\nMeasure resting voltage: should be 12.4V or higher --- PAGE 26 ---\nPerform load test per Para 1-3.2\n",
        "[vehicle_manual.txt p.13] dlights, blower motor, rear defroster\nMaintain 2000 RPM\nVoltage should remain above 13.5V under load --- PAGE 13 ---\nIf voltage drops below 13.0V, alt",
        "[vehicle_manual.txt p.21] sue [Citation: Para 6-4.1]\nStep 2: Test compression\nRemove all spark plugs\nDisable fuel and ignition --- PAGE 21 ---\nThread compression tester into mi"
      ],
      "ground_truth": "Test alternator charging: Connect voltmeter to battery terminals, start engine and increase RPM to 2000. Voltage should read 13.8-14.4V. Below 13.8V indicates alternator not charging. Above 14.8V indicates regulator failure - turn off engine immediately and disconnect battery [Citation: Para 4-2.2, Table 4-1]. WARNING: Overcharging above 14.8V can cause battery explosion [Safety Notice 4-A].",
      "id": "PC004",
      "category": "positive_case"
    },
    {
      "question": "What does diagnostic code P0420 mean?",
      "answer": "[REFUSAL] This question is outside the knowledge base (vehicle maintenance topics). Please ask about maintenance procedures, diagnostics, or specifications.",
      "contexts": [
        "[vehicle_manual.txt p.18] PSI\nFuel Pressure (WOT) 35 PSI minimum\nPump Flow Rate 30 GPH minimum\nFilter Replacement 15,000 miles --- PAGE 18 ---\nComponent Specification\nInjector ",
        "[vehicle_manual.txt p.27] icle to fall resulting in crushing\ninjury or death. Always use jack stands rated for vehicle weight. --- PAGE 27 ---\nSafety Notice 7-B: Battery Discon",
        "[vehicle_manual.txt p.16] at door placard specification\nCorrect any low tires\nMonitor MPG for one tank [Citation: Para 5-2.1] --- PAGE 16 ---\nStep 2: Scan for diagnostic codes\n",
        "[vehicle_manual.txt p.26] ts body. [Safety Notice 7-B]\nStep 3: Test battery\nMeasure resting voltage: should be 12.4V or higher --- PAGE 26 ---\nPerform load test per Para 1-3.2\n",
        "[vehicle_manual.txt p.20] tep 2: Inspect MAF sensor\nRemove sensor from air intake tube\nExamine sensing element for oil or dirt --- PAGE 20 ---\nClean with MAF sensor cleaner onl",
        "[vehicle_manual.txt p.13] dlights, blower motor, rear defroster\nMaintain 2000 RPM\nVoltage should remain above 13.5V under load --- PAGE 13 ---\nIf voltage drops below 13.0V, alt"
      ],
      "ground_truth": "Code P0420 indicates 'Catalyst System Efficiency Below Threshold' - the catalytic converter is not operating at required efficiency [Citation: Para 6-2]. Possible causes: (1) Catalytic converter degradation (most common), (2) Oxygen sensor failure, (3) Exhaust leak before catalyst, (4) Engine running too rich [Citation: Para 6-2]. Verify by monitoring O2 sensor operation - downstream sensor should be steady around 0.45V; if it fluctuates like upstream sensor, converter has failed [Citation: Para 6-2.2].",
      "id": "PC005",
      "category": "positive_case"
    }
  ],
  "aggregate_scores": {
    "faithfulness": null,
    "answer_relevancy": 0.24850381123421042,
    "context_precision": 0.733333333315,
    "context_recall": 0.9333333333333332
  },
  "per_sample_scores": [
    {
      "user_input": "Engine cranks but won't start. What should I check?",
      "retrieved_contexts": [
        "[vehicle_manual.txt p.2] ing)\nIgnition switch assembly\nBattery cables (4 AWG minimum)\n[Figure 1-1: Starting System Schematic] --- PAGE 2 ---\nPara 1-2: Engine Cranks But Won't ",
        "[vehicle_manual.txt p.11] nt Specification\nBrake Fluid Type DOT 3\nFluid Capacity 0.5 quarts\nPad Minimum Thickness 3mm (0.118\") --- PAGE 11 ---\nComponent Specification\nRotor Min",
        "[vehicle_manual.txt p.3] plug from cylinder 1\nReconnect spark plug wire\nGround plug body to engine block using insulated tool --- PAGE 3 ---\nHave assistant crank engine\nObserv",
        "[vehicle_manual.txt p.1] --- PAGE 1 ---\nTM 9-2350 Vehicle Maintenance Manual\nDemonstration Dataset for NIC RAG System\nNOTICE: This is synthetic technical documentation created",
        "[vehicle_manual.txt p.25] housing cover [Citation: Para 7-4.1, Figure 7-3]\nStep 2: Inspect old filter\nHold up to light source --- PAGE 25 ---\nShould see light through filter me",
        "[vehicle_manual.txt p.18] PSI\nFuel Pressure (WOT) 35 PSI minimum\nPump Flow Rate 30 GPH minimum\nFilter Replacement 15,000 miles --- PAGE 18 ---\nComponent Specification\nInjector "
      ],
      "response": "WARNINGS: Fuel system under pressure. Wear eye protection. Work in ventilated area away from ignition sources. (vehicle_manual.txt p3) | STEPS: Verify fuel level (Check fuel gauge reading) (vehicle_manual.txt p2); Test fuel pressure (Connect pressure gauge to fuel rail test port, Key to ON position (do not crank), Observe pressure: should read 40-50 PSI) (vehicle_manual.txt p2); Check for spark (Remove spark plug from cylinder 1, Reconnect spark plug wire, Ground plug body to engine block using insulated tool) (vehicle_manual.txt p2) | VERIFY: Verify correct fuel gauge reading (source.pdf p42); Verify correct fuel pressure reading (source.pdf p42); Verify strong blue spark across gap (source.pdf p42)",
      "reference": "When engine cranks but won't start, check these in order of likelihood: (1) Fuel system - verify fuel level and pump operation, test fuel pressure at 40-50 PSI [Citation: Para 1-2.1, Table 1-1]. (2) Ignition system - test for spark at plugs [Citation: Para 1-2.3]. (3) Air intake - inspect for severe restrictions [Citation: Para 1-2]. WARNING: Fuel system under pressure, wear eye protection [Safety Notice 1-A].",
      "faithfulness": NaN,
      "answer_relevancy": NaN,
      "context_precision": NaN,
      "context_recall": 0.8
    },
    {
      "user_input": "What's the correct torque specification for lug nuts?",
      "retrieved_contexts": [
        "[vehicle_manual.txt p.24] o not remove yet [Citation: Para 7-3.1]\nStep 2: Lift vehicle\nUse jack at designated lift points only --- PAGE 24 ---\nSupport with jack stands (never w",
        "[vehicle_manual.txt p.9] Fluid should be between MIN and MAX marks\nLow fluid indicates leak in system [Citation: Para 3-2.1] --- PAGE 9 ---\n\u26a0  WARNING: Low brake fluid is emer",
        "[vehicle_manual.txt p.4] Para 1-3.1, Table 1-2]\nStep 2: Perform battery load test\nApply load equivalent to 50% of CCA rating --- PAGE 4 ---\nVoltage should remain above 9.6V fo",
        "[vehicle_manual.txt p.6] ed bearing\nBroken drive belt\n4. Radiator Blockage (10% probability)\nExternal debris blocking airflow --- PAGE 6 ---\nInternal corrosion/scale buildup\nD",
        "[vehicle_manual.txt p.15] , 15K mile replacement)\nFuel pressure regulator (return type)\nFuel injectors (multi-port sequential) --- PAGE 15 ---\nOperating Pressure: 40-50 PSI at ",
        "[vehicle_manual.txt p.27] icle to fall resulting in crushing\ninjury or death. Always use jack stands rated for vehicle weight. --- PAGE 27 ---\nSafety Notice 7-B: Battery Discon"
      ],
      "response": "[REFUSAL] This question is outside the knowledge base (vehicle maintenance topics). Please ask about maintenance procedures, diagnostics, or specifications.",
      "reference": "Lug nuts should be torqued to 85-95 ft-lbs in a star pattern [Citation: Table 7-1, Para 7-3.3].",
      "faithfulness": NaN,
      "answer_relevancy": 0.0,
      "context_precision": NaN,
      "context_recall": 1.0
    },
    {
      "user_input": "My temperature gauge is reading high. What could be wrong?",
      "retrieved_contexts": [
        "[vehicle_manual.txt p.5] 9.6V minimum\nCCA Rating 600 minimum\nLoad Test Duration 15 seconds\nReplacement Interval 48-60 months --- PAGE 5 ---\nSECTION 2: COOLING SYSTEM\nPara 2-1:",
        "[vehicle_manual.txt p.2] ing)\nIgnition switch assembly\nBattery cables (4 AWG minimum)\n[Figure 1-1: Starting System Schematic] --- PAGE 2 ---\nPara 1-2: Engine Cranks But Won't ",
        "[vehicle_manual.txt p.19] eration\nMonitor O2 sensor voltages with scan tool\nUpstream sensor: should fluctuate 0.1-0.9V rapidly --- PAGE 19 ---\nDownstream sensor: should be stea",
        "[vehicle_manual.txt p.12] rive Belt Failure (40% probability)\nBelt broken or slipped off\nSeverely worn belt\nLoose belt tension --- PAGE 12 ---\n2. Alternator Failure (35% probab",
        "[vehicle_manual.txt p.15] , 15K mile replacement)\nFuel pressure regulator (return type)\nFuel injectors (multi-port sequential) --- PAGE 15 ---\nOperating Pressure: 40-50 PSI at ",
        "[vehicle_manual.txt p.26] ts body. [Safety Notice 7-B]\nStep 3: Test battery\nMeasure resting voltage: should be 12.4V or higher --- PAGE 26 ---\nPerform load test per Para 1-3.2\n"
      ],
      "response": "[REFUSAL] This question is outside the knowledge base (vehicle maintenance topics). Please ask about maintenance procedures, diagnostics, or specifications.",
      "reference": "Engine overheating (gauge above 220\u00b0F) has several probable causes: (1) Low coolant level - 50% probability, check reservoir when cold [Citation: Para 2-2.1]. (2) Thermostat failure - 25% probability, test if upper hose gets hot at 195\u00b0F [Citation: Para 2-2.2]. (3) Water pump failure - 15% probability, inspect for leaks and bearing noise [Citation: Para 2-2.3]. (4) Radiator blockage - 10% probability. WARNING: Never open cooling system when hot, wait 30 minutes minimum [Safety Notice 2-A].",
      "faithfulness": NaN,
      "answer_relevancy": NaN,
      "context_precision": NaN,
      "context_recall": NaN
    },
    {
      "user_input": "How do I test if my alternator is charging?",
      "retrieved_contexts": [
        "[vehicle_manual.txt p.14] 4-3]\nStep 2: Locate source of draw\nRemove fuses one at a time\nMonitor ammeter when each fuse removed --- PAGE 14 ---\nWhen amperage drops to normal, ci",
        "[vehicle_manual.txt p.12] rive Belt Failure (40% probability)\nBelt broken or slipped off\nSeverely worn belt\nLoose belt tension --- PAGE 12 ---\n2. Alternator Failure (35% probab",
        "[vehicle_manual.txt p.25] housing cover [Citation: Para 7-4.1, Figure 7-3]\nStep 2: Inspect old filter\nHold up to light source --- PAGE 25 ---\nShould see light through filter me",
        "[vehicle_manual.txt p.26] ts body. [Safety Notice 7-B]\nStep 3: Test battery\nMeasure resting voltage: should be 12.4V or higher --- PAGE 26 ---\nPerform load test per Para 1-3.2\n",
        "[vehicle_manual.txt p.13] dlights, blower motor, rear defroster\nMaintain 2000 RPM\nVoltage should remain above 13.5V under load --- PAGE 13 ---\nIf voltage drops below 13.0V, alt",
        "[vehicle_manual.txt p.21] sue [Citation: Para 6-4.1]\nStep 2: Test compression\nRemove all spark plugs\nDisable fuel and ignition --- PAGE 21 ---\nThread compression tester into mi"
      ],
      "response": "{\n  \"output\": \"chat\",\n  \"steps\": [\n    {\n      \"step\": \"Step 1: Check drive belt\",\n      \"description\": \"Visually inspect belt for cracks or damage and ensure it is tight (1/2\\\" deflection max).\"\n    },\n    {\n      \"step\": \"Step 2: Test charging voltage\",\n      \"description\": \"Connect voltmeter to battery terminals, start engine, and increase RPM to 2000. Voltage should read between 13.8-14.4V.\"\n    }\n  ],\n  \"cautions\": [\n    \"If voltage is below 13.8V, the alternator may not be charging. If above 14.8V, the regulator may have failed (disconnect battery immediately).\"\n  ]\n}",
      "reference": "Test alternator charging: Connect voltmeter to battery terminals, start engine and increase RPM to 2000. Voltage should read 13.8-14.4V. Below 13.8V indicates alternator not charging. Above 14.8V indicates regulator failure - turn off engine immediately and disconnect battery [Citation: Para 4-2.2, Table 4-1]. WARNING: Overcharging above 14.8V can cause battery explosion [Safety Notice 4-A].",
      "faithfulness": NaN,
      "answer_relevancy": 0.7455114337026313,
      "context_precision": NaN,
      "context_recall": NaN
    },
    {
      "user_input": "What does diagnostic code P0420 mean?",
      "retrieved_contexts": [
        "[vehicle_manual.txt p.18] PSI\nFuel Pressure (WOT) 35 PSI minimum\nPump Flow Rate 30 GPH minimum\nFilter Replacement 15,000 miles --- PAGE 18 ---\nComponent Specification\nInjector ",
        "[vehicle_manual.txt p.27] icle to fall resulting in crushing\ninjury or death. Always use jack stands rated for vehicle weight. --- PAGE 27 ---\nSafety Notice 7-B: Battery Discon",
        "[vehicle_manual.txt p.16] at door placard specification\nCorrect any low tires\nMonitor MPG for one tank [Citation: Para 5-2.1] --- PAGE 16 ---\nStep 2: Scan for diagnostic codes\n",
        "[vehicle_manual.txt p.26] ts body. [Safety Notice 7-B]\nStep 3: Test battery\nMeasure resting voltage: should be 12.4V or higher --- PAGE 26 ---\nPerform load test per Para 1-3.2\n",
        "[vehicle_manual.txt p.20] tep 2: Inspect MAF sensor\nRemove sensor from air intake tube\nExamine sensing element for oil or dirt --- PAGE 20 ---\nClean with MAF sensor cleaner onl",
        "[vehicle_manual.txt p.13] dlights, blower motor, rear defroster\nMaintain 2000 RPM\nVoltage should remain above 13.5V under load --- PAGE 13 ---\nIf voltage drops below 13.0V, alt"
      ],
      "response": "[REFUSAL] This question is outside the knowledge base (vehicle maintenance topics). Please ask about maintenance procedures, diagnostics, or specifications.",
      "reference": "Code P0420 indicates 'Catalyst System Efficiency Below Threshold' - the catalytic converter is not operating at required efficiency [Citation: Para 6-2]. Possible causes: (1) Catalytic converter degradation (most common), (2) Oxygen sensor failure, (3) Exhaust leak before catalyst, (4) Engine running too rich [Citation: Para 6-2]. Verify by monitoring O2 sensor operation - downstream sensor should be steady around 0.45V; if it fluctuates like upstream sensor, converter has failed [Citation: Para 6-2.2].",
      "faithfulness": NaN,
      "answer_relevancy": 0.0,
      "context_precision": 0.733333333315,
      "context_recall": 1.0
    }
  ]
}