# Nova NIC Offline/Air-Gapped Environment Template
# ================================================
# For deployments without network access

# === SECURITY ===
SECRET_KEY=CHANGE_ME_GENERATE_WITH_OPENSSL_RAND_HEX_32
NOVA_CACHE_SECRET=CHANGE_ME_GENERATE_ANOTHER_KEY

# === OFFLINE MODE (REQUIRED) ===
NOVA_FORCE_OFFLINE=1
HF_HUB_OFFLINE=1
TRANSFORMERS_OFFLINE=1

# === LLM CONFIGURATION ===
# Local Ollama (must be pre-configured with models)
OLLAMA_BASE_URL=http://127.0.0.1:11434/v1
OLLAMA_URL=http://127.0.0.1:11434

# Pre-downloaded models
NOVA_LLM_LLAMA=llama3.2:3b
NOVA_LLM_OSS=qwen2.5-coder:7b

# === MODEL PATHS ===
# All models must be pre-downloaded to these locations
HF_HOME=/app/models
TRANSFORMERS_CACHE=/app/models
NOVA_EMBEDDING_MODEL=models/nic-embeddings-v1.0

# === RETRIEVAL ===
NOVA_HYBRID_SEARCH=1
NOVA_BM25_K1=1.5
NOVA_BM25_B=0.75
NOVA_BM25_CACHE=1
NOVA_DOMAIN_BOOST=1

# === SAFETY ===
NOVA_GAR_ENABLED=1
NOVA_CITATION_AUDIT=1
NOVA_CITATION_STRICT=0

# Disable anomaly detector (requires pre-trained model)
NOVA_ANOMALY_DETECTOR=0

# === CACHING ===
NOVA_ENABLE_RETRIEVAL_CACHE=1
NOVA_RETRIEVAL_CACHE_SIZE=256

# === LOGGING ===
NOVA_LOG_FORMAT=json
NOVA_LOG_LEVEL=INFO
NOVA_LOG_FILE=logs/nova.log

# Disable SQL logging
NOVA_ENABLE_SQL_LOG=0

# === RATE LIMITING ===
NOVA_RATE_LIMIT_ENABLED=1
NOVA_RATE_LIMIT_PER_HOUR=100
NOVA_RATE_LIMIT_PER_MINUTE=20

# === PERFORMANCE ===
# Warm up on start (recommended for offline)
NOVA_WARMUP_ON_START=1
NOVA_EMBED_BATCH_SIZE=32

# Disable features that might attempt network calls
NOVA_DISABLE_VISION=0
NOVA_DISABLE_EMBED=0
NOVA_DISABLE_CROSS_ENCODER=0

# === ENVIRONMENT ===
NOVA_ENV=production
